commit 6a5c958dd8872875bc8fa51bc500543ba8e48b77 (HEAD)
Author: Jonathan Rosser <jonathan.rosser@rd.bbc.co.uk>
Date:   Mon Oct 19 17:48:47 2020 +0100

    Shibboleth and OIDC apache modules are co-installable on Focal

    For ubuntu bionic there was a difference in dependancies between
    these two libraries on libcurl3 and libcurl4 which mean they were
    not co-installable.

    For Focal we should be able to install both as the version of
    the shibboleth library is now > 3.0

    Closes-Bug: 1900410
    Change-Id: Ia135870e45cc32ddfdad61476fe9ce12f61a6df7

diff --git a/vars/ubuntu-20.04.yml b/vars/ubuntu-20.04.yml
new file mode 100644
index 0000000..c1f1a7a
--- /dev/null
+++ b/vars/ubuntu-20.04.yml
@@ -0,0 +1,106 @@
+---
+# Copyright 2016, Rackspace US, Inc.
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+cache_timeout: 600
+
+keystone_distro_packages:
+  - git
+  - openssh-server
+  - rsync
+  - cron
+  - libpython3-dev
+
+keystone_devel_distro_packages:
+  - docutils-common
+  - libffi-dev
+  - libjs-sphinxdoc
+  - libjs-underscore
+  - libldap2-dev
+  - libsasl2-dev
+  - libsystemd-dev
+  - libssl-dev
+  - libxslt1.1
+  - libxslt1-dev
+  - libxml2-dev
+  - pkg-config
+  - python3-dev
+
+keystone_service_distro_packages:
+  - python3-keystone
+  - python3-systemd
+  - uwsgi
+  - uwsgi-plugin-python3
+
+keystone_apache_distro_packages:
+  - apache2
+  - apache2-utils
+  - libapache2-mod-proxy-uwsgi
+
+keystone_nginx_distro_packages:
+  - nginx-extras
+
+keystone_idp_distro_packages:
+  - ssl-cert
+  - xmlsec1
+
+keystone_sp_distro_packages:
+  - libapache2-mod-auth-openidc
+  - libapache2-mod-shib
+
+keystone_developer_mode_distro_packages:
+  - build-essential
+
+keystone_oslomsg_amqp1_distro_packages:
+  - libsasl2-modules
+  - sasl2-bin
+
+keystone_apache_default_sites:
+  - "/etc/apache2/sites-enabled/000-default.conf"
+
+keystone_apache_site_available: "/etc/apache2/sites-available/keystone-httpd.conf"
+keystone_apache_site_enabled: "/etc/apache2/sites-enabled/keystone-httpd.conf"
+keystone_apache_conf: "/etc/apache2/apache2.conf"
+keystone_apache_default_log_folder: "/var/log/apache2"
+keystone_apache_default_log_owner: "root"
+keystone_apache_default_log_grp: "adm"
+keystone_apache_security_conf: "/etc/apache2/conf-available/security.conf"
+
+keystone_apache_configs:
+  - { src: "keystone-ports.conf.j2", dest: "/etc/apache2/ports.conf" }
+  - { src: "keystone-httpd.conf.j2", dest: "/etc/apache2/sites-available/keystone-httpd.conf" }
+  - { src: "keystone-httpd-mpm.conf.j2", dest: "/etc/apache2/mods-available/mpm_{{ keystone_httpd_mpm_backend }}.conf" }
+
+keystone_apache_modules:
+  - name: "ssl"
+    state: "{{ (keystone_ssl | bool) | ternary('present', 'absent') }}"
+  - name: "shib2"
+    state: "{{ keystone_sp_apache_mod_shib | ternary('present', 'absent') }}"
+  - name: "auth_openidc"
+    state: "{{ keystone_sp_apache_mod_auth_openidc | ternary('present', 'absent') }}"
+  - name: "proxy_uwsgi"
+    state: "present"
+  - name: "headers"
+    state: "present"
+# This can be enabled when Apache2.5+ is available
+#  - name: "mod_journald"
+#    state: "present
+
+keystone_nginx_conf_path: "sites-available"
+
+keystone_system_service_name: apache2
+
+keystone_uwsgi_bin: '/usr/bin'
+
+keystone_sshd: ssh